\documentclass[11pt]{article}
\usepackage{xepersian}
\settextfont{Nazli Bold}
\setlatintextfont{Ubuntu}
\setdigitfont{Ubuntu}
\title{آموزش زبان برنامه نویسی Ruby}
\author{محمدرضا حقیری}
\begin{document}
\maketitle
\newpage{}
\tableofcontents
\newpage{}
\newpage{}
\section{مقدمه}
زبان روبی ، یک زبان اسکریپتی، شی گرا، تابعی و مدرن است. این زبان توسط یوکیهیرو ماتسوموتو
\LTRfootnote{Yukihiro Matsumoto}
ایجاد شده و هم اکنون توسعه دهندگانی از سراسر جهان، آن را توسعه میدهند. این زبان، نحو
\LTRfootnote{Syntax}
ساده ای داشته، و می توان در عرض چند روز آن را به خوبی فرا گرفت. این زبان، برای توسعه برنامه های کاربردی دسکتاپ، وب و حتی نوشتن کتابخانه و سرویس های مختلف، کاربرد دارد. شما میتوانید به سادگی و با استفاده از این کتاب، این زبان را بیاموزید. 
\subsection{این کتاب برای چه کسانی است؟}
به اختصار، باید گفت همه علاقمندان به یادگیری این زبان ساده و جذاب. جواب طولانی تر، اینست که این کتاب، برای کسانی است که واقعا میخواهند به سراغ روبی بروند، و چون روبی مرجع فارسی مطمئنی ندارد، پشیمان می شوند. پس اگر از هر دو دسته هستید، توصیه میکنم این کتاب را از دست ندهید. 

\subsection{آیا میتوانیم این کتاب را به اشتراک بگذاریم؟}
این کتاب، رایگان عرضه شده است، همچنین شما نیز میتوانید «بدون قصد تجاری»، آن را با دوستان و خانواده خود به اشتراک بگذارید، یا برای دانلود در وبلاگ و وبسایت شخصی خود قرار دهید. 
\subsection{چگونه این کتاب را بخوانیم؟}
برای خواندن این کتاب، دو راه دارید، یا صرفا مطالعه روزنامه وار انجام دهید تا به آشنایی اجمالی با نحو زبان روبی برسید، یا اینکه تک تک نرم افزارها و مراحل گفته شده در کتاب را مرحله به مرحله انجام دهید، تا کاملا به روبی مسلط شوید. 
\newpage{}
\section{پایه ها و مقدمات یادگیری روبی}
در این فصل، چه فراخواهید گرفت؟
\begin{itemize}
\item نصب روبی در سیستم عامل
\item آشنایی با محیط اینتراکتیو روبی
\item ایجاد چند مثال ساده با روبی
\item اجرای اسکریپت نوشته شده در روبی
\end{itemize}
این موارد، اولین قدم های شما در یادگیری زبان روبی هستند. در فصول بعدی، با ساختارها و کدهای بیشتری آشنا خواهید شد، و طبیعتا آن زمان است که میتوانید از روبی، استفاده کاربردی کنید. 
\subsection{نصب روبی}
برای نصب روبی، شما ابتدا باید نام و نسخه سیستم عامل خود را بدانید. در این کتاب، فرض بر آنست که شما از گنو/لینوکس و توزیع اوبونتو استفاده میکنید.
\footnote{تفاوتی میانی استفاده از روبی در ویندوز و لینوکس نیست، طبیعتا میتوانید همین دستوراتی که در این کتابچه موجودند را به کار ببرید}
\subsubsection{وبسایت روبی}
شما میتوانید با مراجعه به وبسایت روبی 
\LTRfootnote{http://ruby-lang.org}
نسخه مورد نظر روبی را دانلود نموده، سپس آن را کامپایل کنید.
\footnote{وقتی روبی را از سورس کامپایل میکنید، باید پیشاپیش هر چه پیش نیاز آن است را دستی نصب کنید. چنانچه دانش کافی در زمینه کامپایل ندارید، توصیه میکنم از مخازن استفاده کنید.}
\subsubsection{نصب از مخازن}
برای استفاده از مخازن اوبونتو، کافیست تا یک پنجره ترمینال باز کنید، و سپس دستورات زیر را اجرا کنید :
\begin{latin}
\begin{verbatim}
sudo apt-get install ruby
\end{verbatim}
\end{latin}
همچنین اگر مفسر
\LTRfootnote{Interpreter}
دیگری در نظر دارید، میتوانید در صورت موجود بودن در مخازن، آن را نصب کنید. 
\subsection{استفاده از محیط تعاملی}
محیط تعاملی
\LTRfootnote{Interactive}
روبی، به شما این امکان را میدهد تا بدون نیاز به نوشتن کد در یک ویرایشگر متن، آن را مستقیما در ترمینال تایپ نموده، سپس نتیجه برنامه را در ترمینال ببینید. برای دسترسی به محیط تعاملی، یک پنجره ترمینال باز کرده و مانند دستور زیر عمل کنید :
\begin{latin}
\begin{verbatim}
prp-e@prp-e ~ $ irb
\end{verbatim}
\end{latin}
پس از اجرای دستور فوق، باید یک پرامپت
\LTRfootnote{Prompt}
به این شکل مشاهده کنید :
\begin{latin}
\begin{verbatim}
irb(main):001:0> 
\end{verbatim}
\end{latin}
درون این محیط، میتوانید دستورات مورد نظر را اجرا و تست کنید. 
\subsection{چند دستور در محیط تعاملی}
مثال معروفی به نام «سلام دنیا» در تمامی زبان های برنامه نویسی وجود دارد. بیایید این مثال، اولین مثال ما نیز در زبان روبی باشد. 
اکنون، پنجره ترمینال را باز کرده، و همانند شکل زیر دستور را درون محیط تعاملی روبی، وارد کنید :
\begin{latin}
\begin{verbatim}
print "Hello, World\n"
\end{verbatim}
\end{latin}
در صورتی که کد را درست وارد کرده باشید، باید نتیجه به این شکل گرفته باشید :
\begin{latin}
\begin{verbatim}
irb(main):001:0> print "Hello, World\n"
Hello, World
=> nil
irb(main):002:0> 
\end{verbatim}
\end{latin}
اما نکته اینجاست، در زبان روبی، اصولا نیازی به دستوری برای ایجاد خط جدید نداریم. دستور مناسبتری وجود دارد که جایگزین print است و می توان به کمک آن، به خوبی داده ها را آنگونه که میخواهیم، چاپ کنیم. برای انجام کار عملی، دستورات زیر را در محیط تعاملی اجرا کنید :
\begin{latin}
\begin{verbatim}
puts "Hello, World"
\end{verbatim}
\end{latin}
اکنون باید نتیجه ای مشابه این دریافت کنید :
\begin{latin}
\begin{verbatim}
irb(main):002:0> puts "Hello, World"
Hello, World
=> nil
irb(main):003:0> 
\end{verbatim}
\end{latin}
دستور puts جایگزین خوبی برای print است. علی الخصوص وقتی نتیجه مورد نظر، تنها یک خط باشد. اگرچه در آینده، از هر دو دستور استفاده خواهیم کرد. 
\subsection{نوشتن اسکریپت در یک فایل}
روبی یک زبان اسکریپتی است
\footnote{زبان های اسکریپتی، خط به خط اجرا می شوند. برخلاف زبانهای کامپایل شده، که ابتدا کل برنامه به یک زبان قابل فهم برای سیستم عامل یا ماشین ترجمه می شود، سپس اجرا میگردد. }
پس میتوانیم یک اسکریپت بنویسیم و با استفاده از مفسر، آن را اجرا کنیم. یا حتی می توانیم به آن یک دسترسی اجرایی بدهیم، سپس مستقیما اجرایش کنیم. 
\subsubsection{انتخاب ویرایشگر}
شما برای آن که بتوانید کد خود را درون یک فایل روبی بنویسید، طبیعتا به یک ویرایشگر متن
\LTRfootnote{Text Editor}
نیاز دارید. ویرایشگر های متن که همراه سیستم عامل ها نصب می شوند، گزینه های خوبی هستند. اگر میخواهید بدانید من از چه استفاده میکنم، از nano به عنوان ویرایگشر تحت ترمینال، و از gedit به عنوان ویرایشگر گرافیکی استفاده میکنم.
\footnote{در نظر داشته باشید چنانچه میزکار MATE را نصب دارید، ادیتور gedit با نام pluma در دسترس است. }
\subsubsection{پسوند فایل های روبی}
سورس کدهای روبی، عموما با پسوند های \lr{.rb} و یا \lr{.ruby} ساخته می شوند. توجه کنید که کامپیوتر به پسوند ها کاری ندارد، و این پسوند ها صرفا برای این ساخته شده اند که انسان بتواند با استفاده از آنها، نوع فایل را تشخیص دهد. 
\subsubsection{نوشتن و اجرای اسکریپت از طریق مفسر}
مفسر روبی، از طریق خط فرمان با نام ruby در دسترس است، پس میتوانیم به سادگی یک قطعه کد بنویسیم، آن را روی دسکتاپ قرار داده و سپس دستورات مورد نظر را درونش وارد کنیم. اکنون، یک فایل خالی روی دسکتاپ اجرا کنید و این دستور را درونش بنویسید :
\begin{latin}
\begin{verbatim}
puts "Hello, World"
\end{verbatim}
\end{latin}
با فرض آن که این برنامه، روی دسکتاپ شما با نام HelloWorld.rb ذخیره شده است، آن را اینگونه اجرا میکنیم :
\begin{latin}
\begin{verbatim}
prp-e@prp-e ~ $ ruby ~/Desktop/HelloWorld.rb 
\end{verbatim}
\end{latin}
سپس باید روی ترمینال چنین نتیجه ای را مشاهده کنیم :
\begin{latin}
\begin{verbatim}
prp-e@prp-e ~ $ ruby ~/Desktop/HelloWorld.rb 
Hello, World
prp-e@prp-e ~ $ 
\end{verbatim}
\end{latin}
این اسکریپت، از طریق مفسر روبی، اجرا شد. در قسمت بعدی، از طریق اجازه ها
\LTRfootnote{Permissions}
اسکریپت را اجرا خواهیم نمود.
\subsubsection{اجرای اسکریپت با استفاده از اجازه ها}
این بار، از خاصیت اجازه دسترسی در یونیکس، استفاده خواهیم کرد و سپس اسکریپت قسمت قبل را مستقلا اجرا خواهیم کرد. اکنون، نام HelloWorld.rb را به HelloWorld تغییر دهید و سپس با مفسر اجرایش کنید :
\begin{latin}
\begin{verbatim}
prp-e@prp-e ~ $ ruby ~/Desktop/HelloWorld
Hello, World
prp-e@prp-e ~ $ 
\end{verbatim}
\end{latin}
نتیجه تفاوتی نکرد، نباید هم بکند. مفسر دستورات خودش را تشخیص میدهد. حالا میخواهیم مفسر را درون خود برنامه جای دهیم!

کد برنامه را به این شکل ویرایش کنید :
\begin{latin}
\begin{verbatim}
#!/usr/bin/ruby

puts "Hello, World"
\end{verbatim}
\end{latin}
اکنون، مفسر را به اسکریپت خود شناسانده ایم. اکنون وقت آن است که اجازه اجرا به سورس کد خود بدهیم. اکنون فقط کافیست تا این دستور را در ترمینال اجرا کنید :
\begin{latin}
\begin{verbatim}
prp-e@prp-e ~ $ chmod +x Desktop/HelloWorld 
\end{verbatim}
\end{latin}

سپس میتوان این کد را مستقیما اجرا کرد. برای اجرای مستقیم کد کافیست دستور زیر را اجرا کنید :
\begin{latin}
\begin{verbatim}
prp-e@prp-e ~ $ Desktop/HelloWorld 
\end{verbatim}
\end{latin}
نتیجه دریافتی روی ترمینال باید به این شکل باشد :
\begin{latin}
\begin{verbatim}
prp-e@prp-e ~ $ Desktop/HelloWorld 
Hello, World
prp-e@prp-e ~ $ 
\end{verbatim}
\end{latin}
\subsection{جمع بندی}
در اینجا، باید یک جمع بندی نهایی از مباحثی که در فصل مطرح شدند، داشته باشیم. اول اینکه، فراگیری روبی بسیار آسان است، ولی باید بدانید کجا و چگونه، چه دستوری را به کار ببرید. دوم، باید بدانید که چه موقع محیط تعاملی، و چه موقع محیط ویرایشگر را برای نوشتن برنامه انتخاب کنید. در نهایت هم همیشه حواستان به چگونگی نوشتن کد در ویرایشگر باشد، چرا که کوچک ترین اشتباهی، میتواند مانع از اجرای درست برنامه شما باشد. 
\subsection{تمرینات}
همانگونه که در فروم اوبونتو قول داده بودم
\footnote{انجمن های فارسی اوبونتو، در آدرس forum.ubuntu.ir در دسترس هستند. قول این کتاب را در تاپیکی با مضمون آموزش روبی، در آن انجمن داده بودم. }
، در پایان هر فصل، تعدادی تمرین خواهم گنجاند. با انجام این تمرینات، به سادگی میتوانید دانش و توانایی خود در زمینه روبی را بسنجید.
\begin{enumerate}
\item برنامه ای بنویسید که نام خودتان را چاپ کند
\item برنامه ای بنویسید که نام دانش آموزان یک کلاس ۱۵ نفره را چاپ کند، و آن را در قالب یک اسکریپت با اجازه اجرا، اجرا کنید
\end{enumerate}
\newpage{}
\section{انواع داده و متغیرها}
در هر زبان برنامه نویسی، چندین نوع داده مختلف وجود دارد. استفاده از انواع مختلف داده، کار شخص برنامه نویس و حتی خود برنامه را آسان میکند. چرا که اینگونه، ماشین میفهمد که باید چگونه عملیاتی را روی داده انجام دهد. در این فصل، قصد داریم چندین نوع داده و همچنین تعریف آنها به عنوان متغیر را در روبی بررسی کنیم. 
\subsection{در این فصل چه فرا خواهید گرفت؟}
\begin{itemize}
\item شناسایی انواع مختلف داده ها
\item تعریف انواع مختلف داده در متغیر
\item تبدیل انواع داده
\end{itemize}
\subsection{داده های عددی}
به طور کل، این نوع داده ها، اولین داده هایی هستند که در آموزش هر زبان برنامه نویسی، با آنها کار خواهیم داشت. چرا که گاهی با مقایسه و یا کم و زیاد کردن اعداد، کارهای خاصی در روند یک برنامه انجام میشود که میتواند به سرعت اجرای برنامه، کمک کند. 
\subsubsection{اعداد صحیح}
اعداد صحیح
\LTRfootnote{Integer}
، نوعی از اعداد هستند که جزء اعشاری ندارند. دامنه این اعداد در طبیعت از منفی بی نهایت تا مثبت بی نهایت ادامه دارد، با این تفاوت از اعداد حقیقی، که این دسته از اعداد، گسسته هستند. برای مثال در فاصله ۲ تا ۳ در مجموعه اعداد صحیح، هیچ عدد دیگری قرار نمیگیرد، در حالی که در سایر گونه های اعداد، اینگونه نیست. اگرچه اینجا بحث، بحث ریاضیات نیست، ولی بهتر بود توضیح ساده ریاضی اعداد صحیح را در اینجا ذکر میکردم. حالا نوبت آن است تا در محیط تعاملی روبی، چند عدد صحیح را تایپ کنید. برای تایپ کردن کافیست با دستور irb وارد محیط تعاملی شده و اعداد زیر را تایپ کنید :
\begin{latin}
\begin{verbatim}
2
3
7
\end{verbatim}
\end{latin}
باید چنین خروجی هم دریافت کنید :
\begin{latin}
\begin{verbatim}
irb(main):001:0> 2
=> 2
irb(main):002:0> 3
=> 3
irb(main):003:0> 7
=> 7
irb(main):004:0> 
\end{verbatim}
\end{latin}
البته میتوانید هر کدام از اعداد را به دلخواه، منفی کنید. مهم اینست که در این قسمت، شما با نوع داده صحیح آشنا شدید. 
\subsubsection{اعداد ممیز شناور}
اعداد ممیز شناور
\LTRfootnote{Floating Point}
، نوعی از اعداد هستند که بخش اعشاری دارند. در واقع، این اعداد در برنامه نویسی، همان اعداد حقیقی هستند. اگرچه ، اعداد گویا، اصم و گنگ را نیز میتوان انواع دیگری از داده حساب نمود، اما در برنامه نویسی، همه اعداد غیر صحیح در مبنای ده را به نوعی میتوان ممیز شناور به حساب آورد. 

برای تعریف این اعداد، کافیست به سادگی یک ممیز و یک صفر به اعداد معرفی شده در قسمت بالاتر، اضافه نمایید :

\begin{latin}
\begin{verbatim}
2.0
3.0
7.0
\end{verbatim}
\end{latin}
و شاهد چنین خروجی باشید :
\begin{latin}
\begin{verbatim}
2irb(main):005:0> 2.0
=> 2.0
irb(main):006:0> 3.0
=> 3.0
irb(main):007:0> 7.0
=> 7.0
irb(main):008:0> 
\end{verbatim}
\end{latin}
همانگونه که ملاحظه میفرمایید، مفسر ممیز را لحاظ کرده است. پس طبیعتا بین 2.0 و 2 تفاوت قائل می شود. اکنون با دو نوع اصلی و عمده داده های عددی آشنا شده اید، بیاییم با دو نوع داده عددی دیگر نیز آشنا شویم. 
\subsubsection{اعداد اوکتال}
اعداد اوکتال
\LTRfootnote{Octal}
اعدادی هستند که از مبنای ده، به مبنای هشت برده شده اند. روبی، زبانی است که قابلیت تشخیص مبنای هشت و شانزده را دارد. برای این که این اعداد را به محیط تعاملی روبی بدهیم، کافیست با دستور ورود آنها، و رنجی از اعداد که پشتیبانی میکنند، آشنا باشیم.
\footnote{اعداد اوکتال یا مبنای هشت، اعدادی هستند که از ارقام صفر تا هفت تشکیل شده اند}
اعداد اوکتال در روبی، با صفر آغاز می شوند
\footnote{این یک قرار داد است که این اعداد، با صفر آغاز شوند.}
پس اکنون کافیست محیط تعاملی روبی را باز کرده و اعداد زیر را وارد کنید :

\begin{latin}
\begin{verbatim}
012
02
013457
\end{verbatim}
\end{latin}
خب اکنون باید نتیجه زیر را شاهد باشید :
\begin{latin}
\begin{verbatim}
irb(main):001:0> 012
=> 10
irb(main):002:0> 02
=> 2
irb(main):003:0> 013457
=> 5935
irb(main):004:0>
\end{verbatim}
\end{latin}
احتمالا بعد از دیدن این نتایج تعجب کرده اید، و پیش خودتان حدس هایی زده اید. باید بگویم درست حدس زده اید! روبی این اعداد را به مبنای ده برده و برای شما، نشان داده است. روبی نوع دیگری از داده های در مبنای غیر ده نیز دارد که در قسمت بعدی با آن آشنا خواهید شد. 
\subsubsection{اعداد هگزادسیمال}
اعداد هگزادسیمال
\LTRfootnote{Hexadecimal}
در مبنای ۱۶ هستند. این اعداد، در علوم کامپیوتر بسیار پر استفاده اند و در دروسی مانند مبانی برنامه نویسی و ساختمان داده، بسیار به آنها پرداخته می شود.
\footnote{
در اینجا، ارقام ۰ تا ۹ را به علاوه ارقام A ، B ، C ، D و E داریم که نمایانگر ۱۰ تا ۱۵ هستند.
}
برای تعریف این اعداد در روبی، عدد مورد نظر را پس از صفر و x در محیط تعاملی وارد میکنیم. برای امتحان، اعداد زیر را در محیط تعاملی وارد کنید :
\begin{latin}
\begin{verbatim}
0x12
0x2
0x13457
\end{verbatim}
\end{latin}
سپس باید شاهد چنین نتیجه ای باشید :
\begin{latin}
\begin{verbatim}
irb(main):004:0> 0x12
=> 18
irb(main):005:0> 0x2
=> 2
irb(main):006:0> 0x13457
=> 78935
irb(main):007:0> 
\end{verbatim}
\end{latin}
این بار هم شاهد این بودید که مفسر روبی، اعداد را از مبنای شانزده به ده برده و به شما نمایش داده است. در ادامه، با انواع دیگری از متغیر ها آشنا خواهید شد، که دیگر عددی نیستند.
\subsection{متغیرهای بولین}
متغیر های بولین
\LTRfootnote{Boolean}
، متغیر هایی هستند که تنها دو مقدار درست (true) و یا غلط (false) دریافت میکنند. 
\subsection{متغیر های رشته ای}
یک بار دیگر، برنامه زیر را چک کنید :
\begin{latin}
\begin{verbatim}
puts "Hello, World"
\end{verbatim}
\end{latin}
اگر دقت کنید، خواهید دید که عبارت 
\lr{Hello, World}
را درون علامت نقل قول قرار داده ایم. این نوع داده را، رشته
\LTRfootnote{String}
میگویند. هر رشته، از بهم پیوستن چندین کاراکتر 
\LTRfootnote{Character}
تشکیل می شود. یک رشته، میتواند شامل چند خط باشد، یا شامل یک کلمه باشد. در کل، قانون و قاعده خاصی برای تعریف مقادیر درون یک متغیر رشته ای، وجود ندارد. 
\subsection{آرایه ها و هش ها}
آرایه ها
\LTRfootnote{Array}
و هش ها
\LTRfootnote{Hash}
دو نوع متغیر مجموعه ای هستند. آرایه، مجموعه ای از متغیر های یک نوع خاص است، و هش مانند یک دیکشنری عمل می کند. با عملکرد این دو نوع متغیر، در آینده آشنا خواهید شد. 
\subsection{تعریف متغیرها}
بر خلاف زبان هایی مانند C و 
\lr{C++}
که ابتدا نوع، سپس نام و سپس مقدار متغیر تعریف میگردد، در روبی تنها نام متغیر کافیست تا به آن مقدار داده شود. دستورات زیر، چند متغیر عددی و رشته ای را در روبی تعریف میکنند :
\begin{latin}
\begin{verbatim}
name = "Muhammadreza"
a = "2"
b = 3
\end{verbatim}
\end{latin}
متغیر های name و a از نوع رشته ای هستند (به علامت نقل قول توجه کنید) ، و متغیر b از نوع عدد صحیح. نکته اینجاست که متغیرها، امکان تبدیل به یک دیگر را نیز دارند. 
\subsubsection{تبدیل نوع متغیر ها}
متغیر a از نوع رشته ای، و متغیر b از نوع عدد صحیح است. برای تبدیل a به عدد صحیح، و برای تبدیل b  به ممیز شناور، از دستورات زیر استفاده میکنیم :
\begin{latin}
\begin{verbatim}
a.to_i
b.to_f
\end{verbatim}
\end{latin}
و برای ذخیره نتایج، کافیست متغیر جدیدی تعریف کرده، و دستورات را درونش بریزید. اگرچه، تغییر نوع های دیگری نیز وجود دارد که در ادامه به آنها خواهیم پرداخت. 
\subsection{جمع بندی}
در این فصل، آموختید که هر نوع داده ای کجا و چگونه به کار میرود. مهم است که بدانید کجا و چطور، از چه نوع داده ای استفاده کنید. مثلا موقعی که خرده داشتن نتیجه، برایتان مهم نیست، منطقی تر است حتی اگر ورودی ممیز شناور باشد، شما خروجی را به عدد صحیح تبدیل کنید. اما اگر جایی قرار است مثلا تا n رقم اعشار محاسبه شود، منطقی تر آن است که حتی ورودی های صحیح، در خروجی به صورت ممیز شناور نمایش داده شوند. برخی از انواع داده نیز معرفی شدند، اما مثالی از آنها زده نشد. این نوع داده ها، هر کدام خودشان یک فصل جداگانه میطلبیدند، پس نگران نباشید، این ها را در ادامه فراخواهید گرفت. 
\subsection{تمرینات}
این فصل، آموزش خاصی به همراه نداشت، در نتیجه تمریناتی در این فصل گنجانده نشده است. اما در فصل آینده و پس از آشنایی با عملگرها، تمرینات فراوانی را فرا خواهید گرفت. 
\newpage{}
\end{document}
